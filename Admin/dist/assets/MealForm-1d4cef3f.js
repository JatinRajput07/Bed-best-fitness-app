import{r,D as u,j as e,a}from"./index-f8c2a8c5.js";const y=()=>{const[p,d]=r.useState(!1),[s,h]=r.useState(""),[c,x]=r.useState(""),[i,m]=r.useState({breakfast:[],dinner:[],evening_snacks:[],lunch:[],morning_snacks:[],wake_up_food:[]});r.useEffect(()=>{u.get("http://43.204.2.84:7200/admin/meal").then(t=>{t.data.status==="success"&&m(t.data.data)}).catch(t=>{console.error("Error fetching meal data:",t)})},[]);const g=()=>d(!0),o=()=>{h(""),x(""),d(!1)},j=async()=>{if(!s||!c)return;const t={category:s,item:c};u.post("http://43.204.2.84:7200/admin/meal",t).then(n=>{n.data.status==="success"&&(m(l=>({...l,[s]:[...l[s],{item:c}]})),o())}).catch(n=>{console.error("Error submitting meal:",n)})};return e.jsxs("div",{className:"mt-12 mb-8 flex justify-center",children:[e.jsxs(a.Card,{className:"w-full max-w-6xl shadow-lg",children:[e.jsxs(a.CardHeader,{variant:"gradient",className:"bg-gradient-to-r from-red-800 to-indigo-600 p-6 rounded-t-lg flex justify-between items-center",children:[e.jsx(a.Typography,{variant:"h5",color:"white",children:"Meal"}),e.jsx(a.Button,{color:"lightBlue",onClick:g,children:"Add Meal"})]}),e.jsx(a.CardBody,{className:"p-6 space-y-6",children:Object.keys(i).map(t=>i[t].length>0&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(a.Typography,{className:"text-lg font-semibold text-gray-800",children:t.replace("_"," ").toUpperCase()}),e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200",children:[e.jsx("th",{className:"px-6 py-2 text-left text-sm font-medium text-gray-700",children:"Sr. No."}),e.jsx("th",{className:"px-6 py-2 text-left text-sm font-medium text-gray-700",children:"Item"})]})}),e.jsx("tbody",{children:i[t].map((n,l)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"px-6 py-2 text-sm text-gray-600",children:l+1})," ",e.jsx("td",{className:"px-6 py-2 text-sm text-gray-600",children:n.item})," "]},l))})]})]},t))})]}),e.jsxs(a.Dialog,{open:p,handler:o,size:"lg",children:[e.jsx(a.DialogBody,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(a.Select,{label:"Category",onChange:h,value:s,children:[e.jsx(a.Option,{value:"breakfast",children:"Breakfast"}),e.jsx(a.Option,{value:"dinner",children:"Dinner"}),e.jsx(a.Option,{value:"evening_snacks",children:"Evening Snacks"}),e.jsx(a.Option,{value:"lunch",children:"Lunch"}),e.jsx(a.Option,{value:"morning_snacks",children:"Morning Snacks"}),e.jsx(a.Option,{value:"wake_up_food",children:"Wake Up Food"})]}),e.jsx(a.Input,{label:"Meal Item",value:c,onChange:t=>x(t.target.value),required:!0})]})}),e.jsxs(a.DialogFooter,{children:[e.jsx(a.Button,{color:"red",onClick:o,children:"Cancel"}),e.jsx(a.Button,{color:"green",onClick:j,children:"Submit"})]})]})]})};export{y as default};
