import{g as q,d as K,r as d,e as S,f as g,m as L,u as Z,j as t,c as E,h as V,$ as ae,k as J,o as te,n as oe,a as n,l as H}from"./index-ec333d9e.js";import{B as se,M as re,u as ne,F as ie,g as le,h as ce,T as de,a as pe,b as ue,c as Q,d as P,e as he,f as ge}from"./TableRow-3818d466.js";import{P as ee,d as me,B as fe,c as xe}from"./Paper-3ff79116.js";import"./assertThisInitialized-483a25ac.js";function be(e){return q("MuiDialog",e)}const we=K("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),_=we,ve=d.createContext({}),ye=ve,ke=S(se,{name:"MuiDialog",slot:"Backdrop",overrides:(e,a)=>a.backdrop})({zIndex:-1}),Se=e=>{const{classes:a,scroll:s,maxWidth:l,fullWidth:i,fullScreen:u}=e,b={root:["root"],container:["container",`scroll${g(s)}`],paper:["paper",`paperScroll${g(s)}`,`paperWidth${g(String(l))}`,i&&"paperFullWidth",u&&"paperFullScreen"]};return V(b,be,a)},Ce=S(re,{name:"MuiDialog",slot:"Root",overridesResolver:(e,a)=>a.root})({"@media print":{position:"absolute !important"}}),je=S("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.container,a[`scroll${g(s.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Be=S(ee,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.paper,a[`scrollPaper${g(s.scroll)}`],a[`paperWidth${g(String(s.maxWidth))}`],s.fullWidth&&a.paperFullWidth,s.fullScreen&&a.paperFullScreen]}})(L(({theme:e})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:a})=>!a.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:e.breakpoints.unit==="px"?Math.max(e.breakpoints.values.xs,444):`max(${e.breakpoints.values.xs}${e.breakpoints.unit}, 444px)`,[`&.${_.paperScrollBody}`]:{[e.breakpoints.down(Math.max(e.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(e.breakpoints.values).filter(a=>a!=="xs").map(a=>({props:{maxWidth:a},style:{maxWidth:`${e.breakpoints.values[a]}${e.breakpoints.unit}`,[`&.${_.paperScrollBody}`]:{[e.breakpoints.down(e.breakpoints.values[a]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:a})=>a.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:a})=>a.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${_.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),$e=d.forwardRef(function(a,s){const l=Z({props:a,name:"MuiDialog"}),i=me(),u={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":b,"aria-labelledby":w,"aria-modal":C=!0,BackdropComponent:y,BackdropProps:v,children:m,className:j,disableEscapeKeyDown:R=!1,fullScreen:B=!1,fullWidth:z=!1,maxWidth:k="sm",onBackdropClick:N,onClick:F,onClose:M,open:$,PaperComponent:O=ee,PaperProps:f={},scroll:A="paper",TransitionComponent:U=ie,transitionDuration:T=u,TransitionProps:W,...x}=l,D={...l,disableEscapeKeyDown:R,fullScreen:B,fullWidth:z,maxWidth:k,scroll:A},o=Se(D),r=d.useRef(),h=c=>{r.current=c.target===c.currentTarget},Y=c=>{F&&F(c),r.current&&(r.current=null,N&&N(c),M&&M(c,"backdropClick"))},I=ne(w),X=d.useMemo(()=>({titleId:I}),[I]);return t.jsx(Ce,{className:E(o.root,j),closeAfterTransition:!0,components:{Backdrop:ke},componentsProps:{backdrop:{transitionDuration:T,as:y,...v}},disableEscapeKeyDown:R,onClose:M,open:$,ref:s,onClick:Y,ownerState:D,...x,children:t.jsx(U,{appear:!0,in:$,timeout:T,role:"presentation",...W,children:t.jsx(je,{className:E(o.container),onMouseDown:h,ownerState:D,children:t.jsx(Be,{as:O,elevation:24,role:"dialog","aria-describedby":b,"aria-labelledby":I,"aria-modal":C,...f,className:E(o.paper,f.className),ownerState:D,children:t.jsx(ye.Provider,{value:X,children:m})})})})})}),De=$e;function Pe(e){return q("PrivateSwitchBase",e)}K("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Re=e=>{const{classes:a,checked:s,disabled:l,edge:i}=e,u={root:["root",s&&"checked",l&&"disabled",i&&`edge${g(i)}`],input:["input"]};return V(u,Pe,a)},Ne=S(fe)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:e,ownerState:a})=>e==="start"&&a.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:e,ownerState:a})=>e==="end"&&a.size!=="small",style:{marginRight:-12}}]}),Fe=S("input",{shouldForwardProp:ae})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Me=d.forwardRef(function(a,s){const{autoFocus:l,checked:i,checkedIcon:u,className:b,defaultChecked:w,disabled:C,disableFocusRipple:y=!1,edge:v=!1,icon:m,id:j,inputProps:R,inputRef:B,name:z,onBlur:k,onChange:N,onFocus:F,readOnly:M,required:$=!1,tabIndex:O,type:f,value:A,...U}=a,[T,W]=le({controlled:i,default:!!w,name:"SwitchBase",state:"checked"}),x=ce(),D=c=>{F&&F(c),x&&x.onFocus&&x.onFocus(c)},o=c=>{k&&k(c),x&&x.onBlur&&x.onBlur(c)},r=c=>{if(c.nativeEvent.defaultPrevented)return;const G=c.target.checked;W(G),N&&N(c,G)};let h=C;x&&typeof h>"u"&&(h=x.disabled);const Y=f==="checkbox"||f==="radio",I={...a,checked:T,disabled:h,disableFocusRipple:y,edge:v},X=Re(I);return t.jsxs(Ne,{component:"span",className:E(X.root,b),centerRipple:!0,focusRipple:!y,disabled:h,tabIndex:null,role:void 0,onFocus:D,onBlur:o,ownerState:I,ref:s,...U,children:[t.jsx(Fe,{autoFocus:l,checked:i,defaultChecked:w,className:X.input,disabled:h,id:Y?j:void 0,name:z,onChange:r,readOnly:M,ref:B,required:$,ownerState:I,tabIndex:O,type:f,...f==="checkbox"&&A===void 0?{}:{value:A},...R}),T?u:m]})}),Te=Me;function We(e){return q("MuiSwitch",e)}const Ie=K("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),p=Ie,ze=e=>{const{classes:a,edge:s,size:l,color:i,checked:u,disabled:b}=e,w={root:["root",s&&`edge${g(s)}`,`size${g(l)}`],switchBase:["switchBase",`color${g(i)}`,u&&"checked",b&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},C=V(w,We,a);return{...a,...C}},Ae=S("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.root,s.edge&&a[`edge${g(s.edge)}`],a[`size${g(s.size)}`]]}})({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${p.thumb}`]:{width:16,height:16},[`& .${p.switchBase}`]:{padding:4,[`&.${p.checked}`]:{transform:"translateX(16px)"}}}}]}),Oe=S(Te,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,a)=>{const{ownerState:s}=e;return[a.switchBase,{[`& .${p.input}`]:a.input},s.color!=="default"&&a[`color${g(s.color)}`]]}})(L(({theme:e})=>({position:"absolute",top:0,left:0,zIndex:1,color:e.vars?e.vars.palette.Switch.defaultColor:`${e.palette.mode==="light"?e.palette.common.white:e.palette.grey[300]}`,transition:e.transitions.create(["left","transform"],{duration:e.transitions.duration.shortest}),[`&.${p.checked}`]:{transform:"translateX(20px)"},[`&.${p.disabled}`]:{color:e.vars?e.vars.palette.Switch.defaultDisabledColor:`${e.palette.mode==="light"?e.palette.grey[100]:e.palette.grey[600]}`},[`&.${p.checked} + .${p.track}`]:{opacity:.5},[`&.${p.disabled} + .${p.track}`]:{opacity:e.vars?e.vars.opacity.switchTrackDisabled:`${e.palette.mode==="light"?.12:.2}`},[`& .${p.input}`]:{left:"-100%",width:"300%"}})),L(({theme:e})=>({"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:J(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(e.palette).filter(xe(["light"])).map(([a])=>({props:{color:a},style:{[`&.${p.checked}`]:{color:(e.vars||e).palette[a].main,"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[a].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:J(e.palette[a].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${p.disabled}`]:{color:e.vars?e.vars.palette.Switch[`${a}DisabledColor`]:`${e.palette.mode==="light"?te(e.palette[a].main,.62):oe(e.palette[a].main,.55)}`}},[`&.${p.checked} + .${p.track}`]:{backgroundColor:(e.vars||e).palette[a].main}}}))]}))),Ue=S("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,a)=>a.track})(L(({theme:e})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:e.transitions.create(["opacity","background-color"],{duration:e.transitions.duration.shortest}),backgroundColor:e.vars?e.vars.palette.common.onBackground:`${e.palette.mode==="light"?e.palette.common.black:e.palette.common.white}`,opacity:e.vars?e.vars.opacity.switchTrack:`${e.palette.mode==="light"?.38:.3}`}))),Ee=S("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,a)=>a.thumb})(L(({theme:e})=>({boxShadow:(e.vars||e).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Le=d.forwardRef(function(a,s){const l=Z({props:a,name:"MuiSwitch"}),{className:i,color:u="primary",edge:b=!1,size:w="medium",sx:C,...y}=l,v={...l,color:u,edge:b,size:w},m=ze(v),j=t.jsx(Ee,{className:m.thumb,ownerState:v});return t.jsxs(Ae,{className:E(m.root,i),sx:C,ownerState:v,children:[t.jsx(Oe,{type:"checkbox",icon:j,checkedIcon:j,ref:s,ownerState:v,...y,classes:{...m,root:m.switchBase}}),t.jsx(Ue,{className:m.track,ownerState:v})]})}),Xe=Le,Ke=()=>{const[e,a]=d.useState([]),[s,l]=d.useState(null),[i,u]=d.useState(null),[b,w]=d.useState(!1),[C,y]=d.useState(!1),[v,m]=d.useState(null),[j,R]=d.useState(!1),[B,z]=d.useState(0),[k,N]=d.useState(5),F=o=>{const r=o.target.files[0];l(r);const h=URL.createObjectURL(r);u(h)},M=()=>w(!0),$=()=>{l(null),u(null),w(!1)},O=()=>{if(!s)return;R(!0);const o=new FormData;o.append("image",s),H.post("http://43.204.2.84:7200/admin/banner",o).then(r=>{r.data.status==="success"&&(f(),$())}).catch(r=>{console.error("Error submitting banner:",r)}).finally(()=>R(!1))},f=()=>{H.get("http://43.204.2.84:7200/admin/banner").then(o=>{o.data.status==="success"&&Array.isArray(o.data.data)?a(o.data.data):a([])}).catch(o=>{console.error("Error fetching banners:",o),a([])})},A=(o,r)=>{H.patch(`http://43.204.2.84:7200/admin/banner/${o}/status`,{isActive:!r}).then(h=>{h.data.status==="success"&&f()}).catch(h=>{console.error("Error toggling banner status:",h)})},U=o=>{H.delete(`http://43.204.2.84:7200/admin/banner/${o}`).then(r=>{r.data.status==="success"&&(f(),y(!1))}).catch(r=>{console.error("Error deleting banner:",r)})},T=o=>{m(o),y(!0)},W=()=>{y(!1),m(null)};d.useEffect(()=>{f()},[]);const x=(o,r)=>{z(r)},D=o=>{N(parseInt(o.target.value,10)),z(0)};return t.jsxs("div",{className:"mt-12 mb-8 flex justify-center",children:[t.jsxs(n.Card,{className:"w-full max-w-6xl shadow-lg",children:[t.jsxs(n.CardHeader,{variant:"gradient",className:"bg-gradient-to-r from-blue-800 to-indigo-600 p-6 rounded-t-lg flex justify-between items-center",children:[t.jsx(n.Typography,{variant:"h5",color:"white",children:"Banner Management"}),t.jsx(n.Button,{color:"lightBlue",onClick:M,children:"Add Banner"})]}),t.jsxs(n.CardBody,{className:"p-6 space-y-6",children:[t.jsx(de,{children:t.jsxs(pe,{children:[t.jsx(ue,{children:t.jsxs(Q,{children:[t.jsx(P,{children:"Sr. No."}),t.jsx(P,{children:"Image"}),t.jsx(P,{children:"Status"}),t.jsx(P,{children:"Actions"})]})}),t.jsx(he,{children:e&&e.length>0&&e.slice(B*k,B*k+k).map((o,r)=>t.jsxs(Q,{children:[t.jsx(P,{children:B*k+r+1}),t.jsx(P,{children:t.jsx("img",{src:o.imageUrl,alt:"Banner",className:"w-32 h-32 object-cover rounded-md"})}),t.jsx(P,{children:t.jsx(Xe,{checked:o.isActive,onChange:()=>A(o._id,o.isActive)})}),t.jsx(P,{children:t.jsx(n.Button,{color:"red",size:"small",onClick:()=>T(o._id),children:"Delete"})})]},o._id))})]})}),t.jsx(ge,{rowsPerPageOptions:[5,10,25],component:"div",count:e.length,rowsPerPage:k,page:B,onPageChange:x,onRowsPerPageChange:D})]})]}),t.jsxs(n.Dialog,{open:b,handler:$,size:"lg",children:[t.jsx(n.DialogBody,{className:"overflow-y-auto overflow-x-hidden max-h-[500px]",children:t.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[t.jsx(n.Typography,{variant:"h4",className:"text-gray-800 font-semibold",children:"Upload New Banner"}),t.jsxs("div",{className:"w-full max-w-md",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose Image"}),t.jsx("input",{type:"file",onChange:F,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-indigo-50 file:text-indigo-700 hover:file:bg-indigo-100 focus:outline-none"})]}),i&&t.jsxs("div",{className:"w-full max-w-md",children:[t.jsx(n.Typography,{variant:"h6",color:"blue-gray",className:"mb-2",children:"Image Preview"}),t.jsx("img",{src:i,alt:"Preview",className:"w-full h-auto object-cover rounded-md shadow-md"})]})]})}),t.jsxs(n.DialogFooter,{className:"flex justify-between",children:[t.jsx(n.Button,{variant:"outlined",color:"red",onClick:$,children:"Cancel"}),t.jsx(n.Button,{variant:"filled",color:"green",onClick:O,disabled:j,children:j?"Uploading...":"Submit"})]})]}),t.jsxs(De,{open:C,onClose:W,children:[t.jsx(n.DialogBody,{children:t.jsx(n.Typography,{variant:"h6",className:"text-gray-800",children:"Are you sure you want to delete this banner?"})}),t.jsxs(n.DialogFooter,{className:"gap-1",children:[t.jsx(n.Button,{variant:"outlined",color:"red",onClick:W,children:"Cancel"}),t.jsx(n.Button,{variant:"filled",color:"green",onClick:()=>{U(v),W()},children:"Delete"})]})]})]})};export{Ke as default};
