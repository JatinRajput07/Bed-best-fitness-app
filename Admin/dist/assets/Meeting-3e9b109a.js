import{r as n,j as e,a as t,l as k}from"./index-a51ca692.js";import{T as A,a as G,b as F,c as N,d as l,e as H,f as z}from"./TableRow-dbd05333.js";import"./Paper-7b019d3c.js";import"./assertThisInitialized-82d71f02.js";const V=()=>{const[m,x]=n.useState(null),[o,j]=n.useState(""),[i,p]=n.useState([]),[c,b]=n.useState(""),[d,f]=n.useState(""),[R,v]=n.useState(!1),[C,y]=n.useState(null),[w,P]=n.useState(!1),[S,I]=n.useState([]),[g,T]=n.useState(0),[r,L]=n.useState(5),B=a=>{const s=a.target.files[0];x(s);const u=URL.createObjectURL(s);y(u)},D=a=>{p(s=>s.includes(a)?s.filter(u=>u!==a):[...s,a])},E=()=>v(!0),h=()=>{x(null),j(""),p([]),b(""),f(""),y(null),v(!1)},U=()=>{if(!o||i.length===0||!c||!d)return;P(!0);const a=new FormData;a.append("googleMeetLink",o),a.append("roles",i),a.append("meetingDate",c),a.append("meetingTime",d),m&&a.append("image",m),k.post("http://43.204.2.84:7200/admin/createMeeting",a).then(s=>{s.data.status==="success"&&(M(),h())}).catch(s=>{console.error("Error submitting meeting:",s)}).finally(()=>P(!1))},M=()=>{k.get("http://43.204.2.84:7200/admin/getMeeting").then(a=>{a.data.status==="success"&&I(a.data.meeting)}).catch(a=>{console.error("Error fetching meetings:",a)})};n.useEffect(()=>{M()},[]);const O=(a,s)=>{T(s)},q=a=>{L(parseInt(a.target.value,10)),T(0)};return e.jsxs("div",{className:"mt-12 mb-8 flex justify-center",children:[e.jsxs(t.Card,{className:"w-full max-w-6xl shadow-lg",children:[e.jsxs(t.CardHeader,{variant:"gradient",className:"bg-gradient-to-r from-blue-800 to-indigo-600 p-6 rounded-t-lg flex justify-between items-center",children:[e.jsx(t.Typography,{variant:"h5",color:"white",children:"Meeting"}),e.jsx(t.Button,{color:"lightBlue",onClick:E,children:"Add Meeting"})]}),e.jsxs(t.CardBody,{className:"p-6 space-y-6",children:[e.jsx(A,{children:e.jsxs(G,{children:[e.jsx(F,{children:e.jsxs(N,{children:[e.jsx(l,{children:"Sr. No."}),e.jsx(l,{children:"Image"}),e.jsx(l,{children:"Google Meet Link"}),e.jsx(l,{children:"Date"}),e.jsx(l,{children:"Time"}),e.jsx(l,{children:"Roles"})]})}),e.jsx(H,{children:S.slice(g*r,g*r+r).map((a,s)=>e.jsxs(N,{children:[e.jsx(l,{children:s+1}),e.jsx(l,{children:e.jsx("img",{src:a.image,alt:"Meeting",className:"w-16 h-16 object-cover"})}),e.jsx(l,{children:a.googleMeetLink}),e.jsx(l,{children:new Date(a.createdAt).toLocaleDateString()}),e.jsx(l,{children:new Date(a.createdAt).toLocaleTimeString()}),e.jsx(l,{children:a.roles.join(", ")})]},a._id))})]})}),e.jsx(z,{rowsPerPageOptions:[5,10,25],component:"div",count:S.length,rowsPerPage:r,page:g,onPageChange:O,onRowsPerPageChange:q})]})]}),e.jsxs(t.Dialog,{open:R,handler:h,size:"lg",children:[e.jsx(t.DialogBody,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(t.Input,{label:"Google Meet Link",value:o,onChange:a=>j(a.target.value),required:!0}),e.jsx(t.Input,{type:"file",onChange:B,label:"Upload Image"}),C&&e.jsxs("div",{className:"mt-4",children:[e.jsx(t.Typography,{variant:"h6",color:"gray",className:"mb-2",children:"Image Preview"}),e.jsx("img",{src:C,alt:"Preview",className:"w-32 h-32 object-cover rounded-md"})]}),e.jsxs("div",{children:[e.jsx(t.Typography,{variant:"h6",className:"text-gray-700",children:"Select Roles"}),e.jsx(t.Checkbox,{label:"User",checked:i.includes("user"),onChange:()=>D("user")}),e.jsx(t.Checkbox,{label:"Coach",checked:i.includes("coach"),onChange:()=>D("coach")})]}),e.jsxs("div",{children:[e.jsx(t.Typography,{variant:"h6",className:"text-gray-700",children:"Select Meeting Date and Time"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(t.Input,{type:"date",label:"Date",value:c,onChange:a=>b(a.target.value),required:!0}),e.jsx(t.Input,{type:"time",label:"Time",value:d,onChange:a=>f(a.target.value),required:!0})]})]})]})}),e.jsxs(t.DialogFooter,{children:[e.jsx(t.Button,{color:"red",onClick:h,children:"Cancel"}),e.jsx(t.Button,{color:"green",onClick:U,disabled:w,children:w?"Please wait...":"Submit"})]})]})]})};export{V as default};
