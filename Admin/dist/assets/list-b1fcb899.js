import{y as p,z as j,r as b,Q as N,j as e,a as s,U as f}from"./index-611eecad.js";const A=()=>{const a=p(),{assignments:l,loading:n,error:t}=j(r=>r.assignments);b.useEffect(()=>{a(N())},[a]);const c=r=>{window.confirm("Are you sure you want to delete this assignment?")&&a(f(r))};return n?e.jsx(s.Typography,{className:"text-center mt-6",children:"Loading..."}):t?e.jsxs(s.Typography,{className:"text-center mt-6 text-red-500",children:["Error: ",t]}):e.jsx("div",{className:"mt-12 mb-8 flex flex-col gap-12",children:e.jsxs(s.Card,{children:[e.jsx(s.CardHeader,{variant:"gradient",color:"gray",className:"p-6",children:e.jsx(s.Typography,{variant:"h6",color:"white",children:"Assign Users List"})}),e.jsx(s.CardBody,{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left text-gray-700 font-semibold",children:"Host"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left text-gray-700 font-semibold",children:"Assigned Users"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center text-gray-700 font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:l.map(({_id:r,hostName:d,hostEmail:o,assignedUsers:i},x)=>e.jsxs("tr",{className:x%2===0?"bg-white":"bg-gray-50 hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsxs(s.Typography,{className:"text-gray-800",children:[d," ",e.jsxs("span",{className:"text-gray-500",children:["(",o,")"]})]})}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:i.map(({userId:h,name:m,email:g,assignedAt:y})=>e.jsxs("div",{className:"mb-2",children:[e.jsxs(s.Typography,{className:"text-gray-800",children:[m," ",e.jsxs("span",{className:"text-gray-500",children:["(",g,")"]})]}),e.jsxs(s.Typography,{variant:"small",className:"text-gray-400",children:["Assigned At: ",new Date(y).toLocaleString()]})]},h))}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.jsx(s.Button,{color:"red",onClick:()=>c(r),size:"sm",children:"Delete"})})]},r))})]})})})]})})};export{A as default};
