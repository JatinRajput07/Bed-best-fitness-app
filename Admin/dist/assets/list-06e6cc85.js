import{b as j,u as b,r as f,V as i,j as e,a as s,X as u,_ as N}from"./index-20a5d4bc.js";const A=()=>{const a=j(),{assignments:x,loading:m,error:n}=b(r=>r.assignments);f.useEffect(()=>{a(i())},[a]);const d=(r,t,l)=>{window.confirm("Are you sure you want to proceed?")&&a(u({id:r,type:t,userId:l})).then(c=>{c.meta.requestStatus==="fulfilled"&&(a(i()),N.success("Success"))})};return m?e.jsx(s.Typography,{className:"text-center mt-6",children:"Loading..."}):n?e.jsxs(s.Typography,{className:"text-center mt-6 text-red-500",children:["Error: ",n]}):e.jsx("div",{className:"mt-12 mb-8 flex flex-col gap-12",children:e.jsxs(s.Card,{children:[e.jsx(s.CardHeader,{variant:"gradient",color:"gray",className:"p-6",children:e.jsx(s.Typography,{variant:"h6",color:"white",children:"Assign Users List"})}),e.jsx(s.CardBody,{className:"p-6",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full table-auto border-collapse border border-gray-300",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left text-gray-700 font-semibold",children:"Host"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-left text-gray-700 font-semibold",children:"Assigned Users"}),e.jsx("th",{className:"border border-gray-300 px-4 py-2 text-center text-gray-700 font-semibold",children:"Actions"})]})}),e.jsx("tbody",{children:x.map(({_id:r,hostName:t,hostEmail:l,assignedUsers:c},h)=>e.jsxs("tr",{className:h%2===0?"bg-white":"bg-gray-50 hover:bg-gray-100",children:[e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:e.jsxs(s.Typography,{className:"text-gray-800",children:[t," ",e.jsxs("span",{className:"text-gray-500",children:["(",l,")"]})]})}),e.jsx("td",{className:"border border-gray-300 px-4 py-2",children:c.map(({userId:o,name:g,email:y,assignedAt:p})=>e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(s.Typography,{className:"text-gray-800",children:[g," ",e.jsxs("span",{className:"text-gray-500",children:["(",y,")"]})]}),e.jsxs(s.Typography,{variant:"small",className:"text-gray-400",children:["Assigned At: ",new Date(p).toLocaleString()]})]}),e.jsx(s.Button,{color:"red",onClick:()=>d(r,"user",o),size:"sm",className:"ml-4 p-1",children:"Remove"})]},o))}),e.jsx("td",{className:"border border-gray-300 px-4 py-2 text-center",children:e.jsx(s.Button,{color:"red",onClick:()=>d(r,"assignment"),size:"sm",children:"Delete"})})]},r))})]})})})]})})};export{A as default};
